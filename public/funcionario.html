<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>An Motos</title>
    <link rel="stylesheet" href="funcionario.css" />
    <script src="funcionario.js"></script>
  </head>
  <body>
    <header class="header">
      <div>
        <img src="imagens/ccm.jpeg" alt="Logo CCMP" class="ccm" />
      </div>

      <div class="center-logo">
        <img src="imagens/an_motos.png" alt="Logo AK Motos" />
      </div>

      <div>
        <img src="imagens/agavi.png" alt="Logo Paraná" class="logo" />
      </div>
    </header>

    <main>
      <div class="form-container">
        <h2 class="form-title">Cadastrar Funcionário</h2>

        <form id="cadastro-form">
          <div class="form-group">
            <input
              type="text"
              class="form-control"
              id="fun_nome"
              placeholder="Nome"
              required
            />
          </div>

          <div class="form-group">
            <input
              id="fun_cpf"
              name="cpf"
              type="text"
              class="form-control"
              inputmode="numeric"
              maxlength="14"
              placeholder="CPF"
              required
            />
          </div>

          <div class="form-group">
            <input
              type="text"
              class="form-control"
              id="fun_telefone"
              inputmode="numeric"
              maxlength="15"
              placeholder="Telefone"
              required
            />
          </div>

          <div class="form-group">
            <input
              type="text"
              class="form-control"
              id="fun_endereco"
              placeholder="Endereço"
              required
            />
          </div>

          <div class="form-group">
            <input
              type="number"
              step="0.01"
              class="form-control"
              id="fun_salario"
              placeholder="Salário"
              required
            />
          </div>

          <div class="form-group">
            <input
              type="text"
              class="form-control"
              id="fun_cargo"
              placeholder="Cargo"
              required
            />
          </div>

          <div class="form-group">
            <input
              type="password"
              class="form-control"
              id="fun_senha"
              placeholder="Senha"
              required
            />
          </div>

          <div class="opções">
            <input
              type="submit"
              value="Cadastrar"
              class="submit-btn"
              onclick="cadastrarfuncionario(event)"
            />
            <input type="reset" value="Limpar" class="submit-btn" />
            <input
              type="button"
              value="Atualizar Funcionário"
              class="submit-btn"
              onclick="atualizarfuncionario(); limparFormulario();"
            />
          </div>
        </form>
      </div>

      <div class="container">
        <div class="client-section">
          <h2 class="section-title">Visualizar Funcionário</h2>

          <button
            type="button"
            onclick="listarfuncionario()"
            class="listar-funcionarios-btn"
          >
            Listar Funcionários
          </button>

          <div class="client-stats">
            <p>Total de funcionários: <span id="totalFuncionarios">0</span></p>
          </div>

          <div class="table-container">
            <table class="client-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Nome</th>
                  <th>CPF</th>
                  <th>Telefone</th>
                  <th>Endereço</th>
                  <th>Salário</th>
                  <th>Cargo</th>
                </tr>
              </thead>
              <tbody id="tabela-funcionario">
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </main>

    <div class="btn-voltar">
      <a href="index.html">VOLTAR</a>
    </div>

    <script>
      document
        .querySelector('input[placeholder="CPF"]')
        .addEventListener("input", function (e) {
          let value = e.target.value.replace(/\D/g, "");
          value = value.replace(/(\d{3})(\d)/, "$1.$2");
          value = value.replace(/(\d{3})(\d)/, "$1.$2");
          value = value.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
          e.target.value = value;
        });

      document
        .querySelector('input[placeholder="Telefone"]')
        .addEventListener("input", function (e) {
          let value = e.target.value.replace(/\D/g, "");
          value = value.replace(/(\d{2})(\d)/, "($1) $2");
          value = value.replace(/(\d{5})(\d)/, "$1-$2");
          e.target.value = value;
        });
    </script>
  </body>
</html>
